(this.webpackJsonpppace=this.webpackJsonpppace||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){e.exports=a.p+"static/media/ppace.3266febc.png"},22:function(e,t,a){e.exports=a(32)},32:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(2),o=a.n(r),l=a(16),i=a(4),c=a(5),u=a(7),m=a(6);a(15),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(27);var p=a(17),d=a.n(p),h=a(8),v=a.n(h),f=a(9),E=a(59),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={postTitle:"",eventDate:"",postContent:"",deletePostId:"",data:[]},n.clear=function(){n.setState({postTitle:"",eventDate:"",postContent:""})},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://ppace.azurewebsites.net/posts").then((function(e){return e.json()})).then((function(t){return e.setState({data:t})}))}},{key:"titleBox",value:function(){var e=this;return s.a.createElement(E.a,{value:this.state.postTitle,onChange:function(t){e.setState({postTitle:t.target.value})},id:"titleStandard",label:"",style:{margin:8},placeholder:"Post Title",helperText:"",required:!0,margin:"normal",InputLabelProps:{shrink:!0}})}},{key:"EventDateBox",value:function(){var e=this;return s.a.createElement(E.a,{value:this.state.eventDate,onChange:function(t){e.setState({eventDate:t.target.value})},id:"eventdateStandard",label:"",style:{margin:8},placeholder:"Event Date",helperText:"",required:!0,margin:"normal",InputLabelProps:{shrink:!0}})}},{key:"addPost",value:function(){if(!this.state.postTitle||!this.state.postContent||!this.state.eventDate)return!1;var e={PostTitle:this.state.postTitle,EventDate:this.state.eventDate,PostContent:this.state.postContent,CreatorName:this.props.username};this.addPostFrontend(e),this.addPostBackend(e)}},{key:"addPostFrontend",value:function(e){this.state.data.splice(0,0,e),this.setState({postTitle:"",eventDate:"",postContent:""})}},{key:"generateRandomHash",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=t.length,n=0;n<15;n++)e+=t.charAt(Math.floor(Math.random()*a));return e}},{key:"addPostBackend",value:function(e){e.PostId=this.generateRandomHash();var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("https://ppace.azurewebsites.net/posts",t).then(function(){var e=Object(f.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}))}},{key:"createPostBox",value:function(){var e=this,t=s.a.createElement("form",null,s.a.createElement("div",null,s.a.createElement("div",{className:"PostsDelete PostsCreate"},s.a.createElement("input",{type:"button",onClick:function(){return e.addPost()},value:"Create",className:"PostsCreate"})),s.a.createElement("div",{className:"Posts"},s.a.createElement("div",{className:"CreatorNameClass"}," By: ",this.props.username," "),s.a.createElement("div",{className:"PostTitleClass"},"Title:",s.a.createElement("div",{className:"InputPostTitleEventDateClass"},this.titleBox())),s.a.createElement("div",{className:"PostTitleClass EventDateClass"},"Event Date:",s.a.createElement("div",{className:"InputPostTitleEventDateClass"},this.EventDateBox())),s.a.createElement("br",null),s.a.createElement("div",{className:"InputPostContentClass"},s.a.createElement(E.a,{value:this.state.postContent,onChange:function(t){e.setState({postContent:t.target.value})},id:"standard-full-width",label:"",style:{margin:8},placeholder:"Post Content",helperText:"",fullWidth:!0,multiline:!0,margin:"normal",required:!0,InputLabelProps:{shrink:!0}}))))),a=s.a.createElement("div",null);return this.props.admin?t:a}},{key:"deletePostBackend",value:function(e){var t={PostId:e},a={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://ppace.azurewebsites.net/posts",a).then(function(){var e=Object(f.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}))}},{key:"deletePostFrontend",value:function(e){this.setState({deletePostId:e})}},{key:"deletePost",value:function(e){this.deletePostFrontend(e),this.deletePostBackend(e)}},{key:"deletePostBox",value:function(e){var t=this;return this.props.admin?s.a.createElement("div",{className:"PostsDelete"},s.a.createElement("input",{type:"button",onClick:function(){return t.deletePost(e.PostId)},value:"Delete",className:"PostsDelete"})," "):s.a.createElement("div",null)}},{key:"PostBox",value:function(e){return this.state.deletePostId!=e.PostId?s.a.createElement("div",null,this.deletePostBox(e),s.a.createElement("div",{className:"Posts"},s.a.createElement("div",{className:"CreatorNameClass"}," By: ",e.CreatorName," "),s.a.createElement("div",{className:"PostTitleClass"},"  Title: ",e.PostTitle," "),s.a.createElement("div",{className:"EventDateClass"}," Event Date: ",e.EventDate),s.a.createElement("br",null),s.a.createElement("div",{className:"PostContentClass"}," ",e.PostContent," "))):s.a.createElement("div",null)}},{key:"allOtherPostsBox",value:function(){var e=this,t=0;return s.a.createElement("div",null,this.state.data.map((function(a){return s.a.createElement("div",{key:t++},e.PostBox(a))})))}},{key:"render",value:function(){return console.log(this.props.admin),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mainbar"},this.createPostBox(),this.allOtherPostsBox()))}}]),a}(n.Component),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return console.log(this.props.admin),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"username",name:"username",value:this.props.username,className:"form-control",placeholder:"Enter email",onChange:this.props.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",name:"password",value:this.props.password,className:"form-control",placeholder:"Enter password",onChange:this.props.handleChange})),this.logInButton())}},{key:"logInButton",value:function(){var e=this;return this.props.admin?s.a.createElement("button",{type:"submit",className:"logout",onClick:function(t){return e.handleLogout(t)}},"Logout"):s.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(t){return e.handleLogin(t)}},"Login")}},{key:"handleLogout",value:function(){this.props.setAdminState(JSON.parse("false"))}},{key:"handleLogin",value:function(){var e=Object(f.a)(v.a.mark((function e(t){var a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.props.username),fetch("https://ppace.azurewebsites.net/auth?uid="+this.props.username+"&pwd="+this.props.password).then((function(e){return e.json()})).then((function(e){return a.props.setAdminState(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={announcement:"Announcement:   Covid 19 warning: Please stay indoors, and submit this form!"},e.styles={fontSize:20,fontWeight:"bold",color:"white",display:"block"},e.postsStyles={fontSize:10},e}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"topBarContainer"},s.a.createElement("div",{className:"imgFlex"},s.a.createElement("img",{className:"image",src:d.a,style:{height:"110px",width:"200px",marginTop:"30px",marginLeft:"30px"}})),s.a.createElement("div",{className:"announcementFlex"},s.a.createElement("p",{style:this.styles}," PPACE Announcements ")),s.a.createElement("div",{className:"loginFlex"},s.a.createElement("div",{className:"loginBox"},s.a.createElement(y,{admin:this.props.admin,handleChange:this.props.handleChange,setAdminState:this.props.setAdminState,username:this.props.username,password:this.props.password})))))}}]),a}(n.Component),P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",isAdmin:!1},e.handleChange=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.setAdminState=function(t){if("true"===String(t))return console.log("ds"),void e.setState({username:"",password:"",isAdmin:!0});e.setState({isAdmin:!1})},e}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(C,{admin:this.state.isAdmin,handleChange:this.handleChange,setAdminState:this.setAdminState,username:this.state.username,password:this.state.password}),s.a.createElement(g,{admin:this.state.isAdmin,username:this.state.username}))}}]),a}(n.Component);o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(P,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.ddda9d7e.chunk.js.map